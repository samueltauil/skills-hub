---
# ==============================================================================
# EPHEMERAL SKILL TEMPLATE
# ==============================================================================
# This template is used by the orchestrator to generate on-the-fly skills
# for highly specific tasks that don't fit existing capabilities.
#
# Usage: The orchestrator fills in the {{placeholders}} based on task analysis
# and creates a temporary skill definition.
#
# Template Variables:
#   {{skill_name}}        - Generated skill identifier
#   {{description}}       - Task-specific description  
#   {{triggers}}          - Keywords that activate this skill
#   {{task_type}}         - The classified task type
#   {{tools}}             - Tools needed for this specific task
#   {{context_files}}     - Files to include in context
#   {{instructions}}      - Step-by-step instructions
# ==============================================================================

name: "{{skill_name}}"
description: "{{description}}"
version: "1.0.0"
author: "copilot-orchestrator"
license: "MIT"
generated: true
generated_at: "{{timestamp}}"
session_id: "{{session_id}}"

compatibility:
  min_copilot_version: "1.0.0"
  platforms:
    - windows
    - macos
    - linux

metadata:
  task_type: "{{task_type}}"
  ephemeral: true
  auto_cleanup: true
  ttl_hours: 24

triggers:
  keywords:
{{#each triggers}}
    - "{{this}}"
{{/each}}
  
  intent_patterns:
{{#each intent_patterns}}
    - "{{this}}"
{{/each}}

context:
  required_files:
{{#each context_files}}
    - "{{this}}"
{{/each}}
  
  token_budget: {{token_budget}}
  priority_boosts:
{{#each priority_boosts}}
    - pattern: "{{this.pattern}}"
      boost: {{this.boost}}
{{/each}}

tools:
  required:
{{#each required_tools}}
    - "{{this}}"
{{/each}}
  
  optional:
{{#each optional_tools}}
    - "{{this}}"
{{/each}}

allowed-tools:
{{#each all_tools}}
  - "{{this}}"
{{/each}}

---

# {{skill_name}}

> **Auto-generated ephemeral skill**  
> Session: `{{session_id}}`  
> Generated: {{timestamp}}

## Purpose

{{description}}

## Task Analysis

- **Type:** {{task_type}}
- **Confidence:** {{confidence}}%
- **Complexity:** {{complexity}}

## Instructions

{{#each instructions}}
{{@index}}. {{this}}
{{/each}}

## Context Requirements

The following files are essential for this task:

| File | Priority | Reason |
|------|----------|--------|
{{#each context_requirements}}
| `{{this.file}}` | {{this.priority}} | {{this.reason}} |
{{/each}}

## Execution Plan

```
{{execution_plan}}
```

## Expected Artifacts

{{#each expected_artifacts}}
- `{{this.path}}` - {{this.description}}
{{/each}}

## Validation Criteria

{{#each validation}}
- [ ] {{this}}
{{/each}}

## Rollback Strategy

If the task fails or produces incorrect results:

{{rollback_strategy}}

---

*This skill was auto-generated by the Copilot Orchestrator and will be cleaned up after {{ttl_hours}} hours.*
